# vk-geosearch
[![Platform](https://img.shields.io/badge/Platform-Linux-brightgreen.svg)](https://shields.io/)
[![Platform](https://img.shields.io/badge/Platform-Windows-brightgreen.svg)](https://shields.io/)
[![Python](https://img.shields.io/badge/Python-3-brightgreen.svg)](https://shields.io/)

**Поиск фотографий по геометкам в социальной сети [vk.com](https://vk.com)**

![Demo Photo](http://i.piccy.info/i9/bb916be5e3df5fc24e328b6304f7b6b2/1584609393/107636/1368221/screen.jpg)

![Result Photo](http://i.piccy.info/i9/e0f04631240253b8df2a9bb4c5d589f6/1584609486/154022/1368221/2020_03_19_10_53.jpg)

## Зависимости

* requests

## Установка


```
git clone https://github.com/yevgen2020/vk-geosearch.git
pip3 install requests
cd vk-geosearch
chmod +x search.py
```

## Использование

Для поиска фото в VK нужен сервисный ключ доступа или токен. Создайте  [Standalone-приложение.](https://vk.com/editapp?act=create) Перейдите в настройки и в поле состояние установите "Приложение включено и видно всем". Сохраните изменения. Скопируйте ваш сервисный ключ доступа, откройте в редакторе **search.py** и измените ключ на свой (можно использовать токен вместо ключа).

![Key Photo](http://i.piccy.info/i9/c892cacfa39cdc3e06151b36385cae26/1556800215/29459/1315967/screen3.png)

Результаты сохраняются в файл с названием 'текущий timestamp'.html Фото не загружаются на локальную машину, а тянутся с сервера при открытии html с результатми. На странице фото будут в максимально возможном качестве и соответственно весить будут немало, учтите это когда задаете временной интервал. Кликнув по фото открывается страница владельца в новой вкладке. Парсятся только изображения с личных страниц пользователей (в том числе с удаленных и заблокированых), фото с групп отфильтровываются иначе большая часть поисковой выдачи будет состоять из ногтей, ресничек, депиляций и т.д.

## V.2

Добавлена возможность вводить адрес (работает корректно не всегда т.к. сервис бесплатный, если это по какой либо причине не работает зарегистрируйтесь на [locationiq.com](https://locationiq.com) получите токен и в поле 'TOKEN' вставте свой. Добавлена поддержка выбора размера фото. Добавлен также парсинг фамилли и имени владельца фото.
**Внимание! Если у вас в выдаче более 50 фото НЕ ВЫБИРАЙТЕ эту опцию иначе получите бан по частоте запросов к API**

### P.S.

При запуске с аргументом ```-p``` или ```--proxy``` будет стучаться через локальный прокси-сервер **127.0.0.1:8080**, можно изменить на свой.



